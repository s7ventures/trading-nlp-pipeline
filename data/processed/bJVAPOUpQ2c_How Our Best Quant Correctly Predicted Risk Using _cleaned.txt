today I wanted to talk about stock price simulations let's do it let's go girl yeah you want to get into it hell yeah okay so last week which Tom so rudely missed we talk about some historical uh popular metrics um and the pros and cons of each we talked about historical volatility beta and siar and today I wanted to look more about forward-looking risk metrics specifically ones from simulated stock prices um and kind of wanted to talk about the actual process of simulating a stock price because it's actually kind of cool and we use it all time and I think understanding where it comes from helps us understand the pitfalls a little bit more kind of neat let's go I want to see this hell yeah okay so um this was kind of an outline of some of the stuff that uh was part of this big risk um I don't know what you want to call it like Workshop that we kind of did and this is the simulated uh data part of it and of course that comes from of course that comes from geometric brownan Mo motion we all great things start do we remember our geometric brownan motion of course love a little geometric brownan motion we love a little geometric browny motion um we talk about this I think like a decent amount which is kind of cool you're going to sound super cool at parties now talking about your geometric brownan motion um assuming constant drift and volatility um there's some assumptions that come when we assert that this is what a stock price follows such as that stock prices are a continuous process they have normally distributed log returns they have constant drif in volatility and I'll get to it in a second but wanted to point out the cool graphic because what we have here that first little chart on the left we have have a particle actually undergoing Brownian motion in a fluid and what you actually look like is the horizontal displacement of that particle over time well you actually see something that kind of looks like a stock price Isn't that cool cool beans so we got our particle undergoing geometric Browning motion but we you know this assert that a stock price has certain characteristics have constant drift and volatility and okay we're going to show some math but it has dynamics that can be described by the following stochastic differential equation this is basically I'm not going to get into the math of where this comes from but if we kind of Wiggle our stock price a little bit what is the expected result and this is what's mathematically consistent with that um so we have this kind of change in stock price is equal to a couple different um aspects of the stock so you have your expected returns your standard deviation of returns the current location of the stock price as well as this change in geometric Brown and motion the actual like equation doesn't quite matter as much what's more interesting is what approximation we can use to solve this equation um there's a discrete time approximation for that given below and I'll give a translation of what that this means in in a minute but what I wanted to get away from this slide is that we can actually according to this model actually model changes in stock price projected stock prices using two components component one is called a deterministic component this is just made of the expected returns of the stock the standard deviation of returns of the stock it's called a deterministic component which means it's actually predictable right it's not random and then we simulate Market Randomness with this stochastic component and I'll get into that in a second but what we can kind of infer from this is that stock prices change with something that's predictable like it's not you know totally crazy it's not completely random but we add this little market Randomness to it um which I think is kind of cool is that kind of make sense so far I mean the formulas are too hard but everything else makes sense all that we need to like take away from this I think is that if we want to model stock prices there's a predictable part and then there's a random part that's at least how this model kind of uh kind of puts that together does that kind of make sense yeah that makes sense it's like you know a stock price can only change so much from its previous stock price day to day this is kind of saying that that when we look at that change it's not like completely random there's like a deterministic component a predictable component and then an unpredictable wiggle I guess what you can call it can of make sense yeah sure and we're saying in this that this random component the stochastic component is driven by a standard normal random variable ZT which you guys already know because that's just a normal distribution with me of zero and variance of one so effectively what the stochastic component is doing to simulate Randomness is in this calculation we're taking this stuff from you know calculated from the historical performance of the stock and then we're just kind of randomly you know grabbing a value from a distribution and that's how we simulate our Market Randomness as a stock price evolves in time that kind of make sense sure yeah that's kind of how we we also back into expected move um well I mean it it's all kind of driven from the same sort of assumption which is like this normal distribution assumption right so we're saying that like if a stock price is randomly evolving in time it's not like you know completely random there's a deterministic part of it but if we want to simulate Randomness I'll actually show a numeric example in a minute which might give some intuition but in order to kind of simulate this random process we're literally just pulling random values from a specific type of distribution that's consistent with the black schs form formalism this geometric brandan motion kind of yeah got it sure right well so the translation of that is that each time you know a stock price evolves like I said there's this kind of deterministic component that's calculated from the expected daily returns of the stock um the standard deviation of returns of the stock and then this sort of yeah random component which is driven by this uh you know or that's pulled rather from this distribution that's again consistent with the black shs formalism that's what I'm kind of trying to show here yeah yeah that we understand yeah okay let's look at a numerical example because we we like numbers around here so if we have a stock it's trading at $100 annualized expected return of 5% standard annualized uh volatility of 20% we can understand that right yes okay so if we want to simulate this right snot's going to be $100 that's where it's starting from mu right and is going to be that expected returns it's going to be five or0 5% that Sigma term is going to be 0.2 and then if we try to simulate daily stock price movements um again this is kind of coming from the formalism what we need to know is that delta T term in this equation is 1 over 252 it's uh how we're just going to you know time step each day basically again just we're just taking these values and plugging them into this equation kind of make sense so far so far so far right the numerics hopefully make it a bit easier um so we're going to take all those values we're going to plug it into this formula and then for each um each time step we're going to pull from this random distribution that's going to be represented here with ZT so each time we're going to pull from this Rand we're just going to plug it into the equation and that's actually going to evolve randomly in the simulation the stock price in time yeah yeah so what are you saying here the um what I can't read what the move so those are the prices so these are the values that we're plugging into that equation I got that and each yeah and the prices on the end are the are the expected move the prices are the actual movements of the stock price if we want to calculate like an expected move cone like if we evolve this over time then we can actually simulate over time the you know the the simulated stock price and then from this simulation we can calculate certain statistics kind of make sense yeah kind of I mean kind of yeah kind of well this well hopefully a little bit I'm kind of it's um there's some stuff in here but it's the the backend process of some of these statistics because well so if we do this once if we simulate this over a year now we have one year's worth of data right and then we can repeat this a couple of different times now we have a Monte Carlo right this is how we do a Monte Carlo we repeat this a couple of different times we project stock prices over a year and now we have a distribution of different possible outcomes and we can measure those statistics we can look at things like pop for example we can look at things like sear for example we can look at other historical risk measures using this you know spread of possible outcomes you can do this with portfolios you can do this with simulations of individual stocks you can do this with you can plug options in here you can plug a bunch of different lugs in here and then look at different distributions it's actually kind of cool I think yes uh cool very cool it's a good way to get to the Monte Carlo simulation for sure well we gota we gota to do a Monte Carlo we got to know how to get there and I think the well the real reason the real reason I think the most useful reason about understanding how this is done is then understanding what the limitations are um because like right we assumed this all came from the black schs model and if you remember those assumptions we assumed that stock prices are continuous um which like you know with the earnings when you have these really big disc continuous jumps we know okay so there might be a limitation there if we use simulations to then you know use that for a stock that might be having earnings that are coming up right um they have normally distributed log returns so if for you know like heavily skewed distributions we might run into problems they have constant drift and volatility we know that volatility changes all the time um so that kind of means that you know we want to take some of these simulation results like pop like C or that kind of stuff with a grain of salt um but what this also tells us is that we can maybe account for some of these other factors with more complex price models because a lot of these limitations are fundamentally rooted in how we simulate a stock price that was nice and light it was a it was a fun little fun little stock price simulation think that's kind of cool it was I wasn't I didn't think that's where you're going with simulation but that's good I didn't know that's how well that's how you do with Monte Carlo I know maybe I should start with the punchline next time how about that now I know now I know how you get to a Monte Carlo got it it's one of many ways to do a Monte Carlo um it's a pretty cool um way to do it um like I said we do a lot of platforms this is how you know like if you don't have historical data to use for your you know option back testing that kind of stuff um then simulations are actually a pretty cool way to actually look at different outcomes probabilistically over time and um this is something that you can actually do with a spreadsheet maybe we'll talk about that next week actually that was one of the first uh like one of the segments we did a couple weeks back was showing a spreadsheet that kind of did all these simulations which is a really good example like in a in a you know Google sheet this is a very good example of a tool that can technically do something that isn't at all built for it but um if you understand the process if you have this model for Randomness if you have like a model for stock price and MX then you can actually kind of do it yourself as well which is kind of cool